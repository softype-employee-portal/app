(this.webpackJsonpSoftypeHR=this.webpackJsonpSoftypeHR||[]).push([[21],{1286:function(e,a,t){"use strict";t.r(a);var n=t(40),l=t(1),r=t.n(l),c=t(4),m=t(732),o=t(28),i=t(59),s=function(e){switch(e){case 1:return"success";case 0:return"secondary"}},u=[{key:"Name",_classes:"font-weight-bold",_style:{width:"15%"}},{key:"mobileno",label:"Mobile No.",_style:{width:"10%"}},{key:"email",_style:{width:"15%"}},{key:"role",label:"Position",sorter:!1,filter:!1},"gender","birthdate",{key:"department_name",label:"Department"},{key:"isActive",label:"Status"}];a.default=function(e){var a=e.history,t=e.location,E=e.appState.auth.user,d=e.appState.employee.employees.filter((function(e){return e.employeeId!==E.employeeId})),p=t.search.match(/page=([0-9]+)/,""),b=Number(p&&p[1]?p[1]:1),h=Object(l.useState)(b),y=Object(n.a)(h,2),f=y[0],g=y[1];return Object(l.useEffect)((function(){b!==f&&g(b)}),[b,f]),r.a.createElement(c.cb,null,r.a.createElement(c.s,{xl:12},r.a.createElement(c.h,null,r.a.createElement(c.i,null,r.a.createElement(c.cb,{className:"mb-2"},r.a.createElement(c.s,{sm:"5"},r.a.createElement("h4",{className:"card-title mb-0"},"Employees")),1===E.accountType?r.a.createElement(c.s,{sm:"7",className:"d-none d-md-block"},r.a.createElement("div",{className:"float-right"},r.a.createElement(m.a,{retrieveEmployees:e.retrieveEmployees}))):""),r.a.createElement(c.w,{items:d,fields:u,hover:!0,itemsPerPage:10,activePage:f,pagination:!0,noItemsViewSlot:r.a.createElement(i.g,null),onPageChange:function(e){var t;b!==(t=e)&&a.push("/employees?page=".concat(t))},clickableRows:!0,onRowClick:function(e){a.push("/employees/profile/".concat(e.employeeId))},scopedSlots:{Name:function(e){return r.a.createElement("td",null,"".concat(Object(o.z)(e.lastname),", ").concat(Object(o.z)(e.firstname)," ").concat(Object(o.z)(e.middlename&&e.middlename[0])+"."))},department_name:function(e){return r.a.createElement("td",null,e.department_name?e.department_name:e.department_nameM?e.department_nameM:e.department_nameH?e.department_nameH:r.a.createElement("em",null,"UNSET"))},isActive:function(e){return r.a.createElement("td",null,r.a.createElement(c.b,{color:s(e.isActive)},1===e.isActive?"active":"inactive"))}}})))))}},732:function(e,a,t){"use strict";var n=t(212),l=t(8),r=t.n(l),c=t(15),m=t(40),o=t(1),i=t.n(o),s=t(23),u=t(4),E=t(59),d=t(5),p=t(24),b=t(45),h=t(28),y=t(34),f=t(716),g=t.n(f),v={firstname:!1,lastname:!1,middlename:!1,birthdate:!1,email:!1,mobileno:!1,role:!1,gender:!1,street:!1,city:!1,country:!1,sss:!1,phil_health_no:!1,pag_ibig_no:!1},_={role:null,accountType:null,firstname:"",lastname:"",middlename:"",gender:"",mobileno:"",birthdate:"",email:"",street:"",city:"",country:"",sss:"",phil_health_no:"",pag_ibig_no:"",isActive:1};a.a=function(e){var a,t=e.isUpdate,l=void 0!==t&&t,f=e.data,O=void 0===f?null:f,R=Object(s.c)(),j=Object(o.useRef)(),N=Object(o.useRef)(),S=Object(o.useState)(O||Object(h.w)(_)),w=Object(m.a)(S,2),x=w[0],C=w[1],I=Object(o.useState)(v),k=Object(m.a)(I,2),A=k[0],J=k[1],P=Object(o.useState)(!1),T=Object(m.a)(P,2),U=T[0],D=T[1],H=Object(o.useState)(),M=Object(m.a)(H,2),L=M[0],G=M[1],Q=function(e){G(""),J(v);var a=Object(h.w)(A),t=Object(h.w)(x),n=e.target,l=n.name,r=n.value;if(a[l]=!1,"role"===l){var c=JSON.parse(r),m=c.role,o=c.accountType;t.role=m,t.accountType=+o}else t[l]=r;C(t)},z=function(){l||C(_),J(v),G("")},B=function(){var e=Object(c.a)(r.a.mark((function e(){var a,t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(!0),a=l?"update_employee":"create_employee",t=Object(h.w)(x),l&&(t.employeeId=O.employeeId),e.next=6,p.a.post("/".concat(a),t);case 6:if((n=e.sent).error){e.next=16;break}return e.next=10,Object(y.m)(R);case 10:return e.sent.error&&R(Object(d.b)(d.a.ADD_EMPLOYEE,n.data.employee_information[0])),e.next=14,Object(y.i)(R);case 14:e.next=17;break;case 16:G(n.message);case 17:D(!1),j.current.toggle(),z();case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(e){return!1!==e&&i.a.createElement(u.Q,{className:"help-block"},e)};return i.a.createElement(E.f,Object.assign({ref:j},{modalOnClose:z,size:"lg",title:l?"Update Details":"Add Employee",color:"warning",footer:i.a.createElement(i.a.Fragment,null,i.a.createElement(E.e,{isLoading:U,submit:function(){var e=Object(h.w)(v),a=x.role,t=x.firstname,n=x.lastname,l=x.middlename,r=x.gender,c=x.mobileno,m=x.birthdate,o=x.email,i=x.city,s=x.country,u=x.pag_ibig_no,E=x.phil_health_no,d=x.sss,p=function(e){return h.a.required(e)};e.role=p(a),e.firstname=h.a.nameRules(t),e.lastname=h.a.nameRules(n),e.gender=p(r),e.mobileno=h.a.numberRules(c),e.birthdate=h.a.ageRules(Object(h.l)(m)),e.city=p(i),e.country=p(s),e.email=p(o),e.middlename=!1,l.length&&(e.middlename=h.a.nameRules(l)),d.length&&(e.sss=h.a.numberRules(d)),E.length&&(e.phil_health_no=h.a.numberRules(E)),u.length&&(e.pag_ibig_no=h.a.numberRules(u)),J(e);var b=!0;g.a.values(e).map((function(e){"string"==typeof e&&(b=!1)})),b&&N.current.toggle()},btnText:l?"Update":"Submit"}))}),i.a.createElement(u.u,{fluid:!0},i.a.createElement(E.b,Object.assign({id:"cutom_dialog",ref:N},{onConfirm:function(){B()},title:"Please confirm."})),i.a.createElement(u.cb,null,i.a.createElement(u.s,{sm:"12"},L&&L.length>0?i.a.createElement(u.a,{color:"danger justify-content-center text-align-center"},L):null,i.a.createElement(u.D,{action:"",method:"post"},i.a.createElement(u.E,{row:!0,className:"my-0"},i.a.createElement(u.s,{xs:"4"},i.a.createElement(u.E,null,i.a.createElement(u.R,null,"Firstname"),i.a.createElement(u.J,{onChange:Q,name:"firstname",value:x.firstname||"",placeholder:"Enter Firstname",invalid:"boolean"!==typeof A.firstname}),F(A.firstname))),i.a.createElement(u.s,{xs:"4"},i.a.createElement(u.E,null,i.a.createElement(u.R,null,"Middlename"),i.a.createElement(u.J,{onChange:Q,name:"middlename",value:x.middlename||"",placeholder:"Enter Middlename",invalid:"boolean"!==typeof A.middlename}),F(A.middlename))),i.a.createElement(u.s,{xs:"4"},i.a.createElement(u.E,null,i.a.createElement(u.R,null,"Lastname"),i.a.createElement(u.J,{onChange:Q,name:"lastname",value:x.lastname||"",placeholder:"Enter Lastname",invalid:"boolean"!==typeof A.lastname}),F(A.lastname)))),i.a.createElement(u.E,{row:!0,className:"my-0"},i.a.createElement(u.s,{xs:"6"},i.a.createElement(u.E,null,i.a.createElement(u.R,null,"Gender"),i.a.createElement(u.db,{onChange:Q,value:x.gender,invalid:"boolean"!==typeof A.gender,name:"gender"},!x.gender&&i.a.createElement("option",{value:"",hidden:!0},"Select Gender"),i.a.createElement("option",{value:"male"},"Male"),i.a.createElement("option",{value:"female"},"Female")),F(b.b.INPUT_REQUIRED))),i.a.createElement(u.s,{xs:"6"},i.a.createElement(u.E,null,i.a.createElement(u.R,null,"Birthdate"),i.a.createElement(u.J,(a={type:"date",onChange:Q,name:"birthdate",invalid:"boolean"!==typeof A.birthdate},Object(n.a)(a,"onChange",Q),Object(n.a)(a,"value",x.birthdate||""),Object(n.a)(a,"placeholder","Enter Birthdate.."),a)),F(A.birthdate)))),i.a.createElement(u.E,{row:!0,className:"my-0"},i.a.createElement(u.s,{xs:"6"},i.a.createElement(u.E,null,i.a.createElement(u.R,null,"Role"),i.a.createElement(u.db,{onChange:Q,name:"role",invalid:"boolean"!==typeof A.role},!x.role&&i.a.createElement("option",{value:"",hidden:!0},"Select Role"),b.a.map((function(e){return i.a.createElement("optgroup",{label:e.category,key:e.category},e.roles.map((function(a,t){return i.a.createElement("option",{value:JSON.stringify({role:a,accountType:e.accountType}),key:t},a)})))}))),F(b.b.INPUT_REQUIRED))),i.a.createElement(u.s,{xs:"6"},i.a.createElement(u.E,null,i.a.createElement(u.R,null,"Mobile Number"),i.a.createElement(u.J,{invalid:"boolean"!==typeof A.mobileno,onChange:Q,name:"mobileno",value:x.mobileno,placeholder:"Enter Mobile Number.."}),F(A.mobileno)))),i.a.createElement(u.E,{row:!0,className:"my-0"},i.a.createElement(u.s,{xs:"6"},i.a.createElement(u.E,null,i.a.createElement(u.R,null,"Email"),i.a.createElement(u.J,{onChange:Q,name:"email",value:x.email||"",invalid:"boolean"!==typeof A.email,placeholder:"Enter Email.."}),F(A.email))),i.a.createElement(u.s,{xs:"6"},i.a.createElement(u.E,null,i.a.createElement(u.R,null,"Status"),i.a.createElement(u.db,{onChange:Q,value:x.isActive,disabled:!l,name:"isActive"},i.a.createElement("option",{value:"",hidden:!0},l?1===x.isActive?"Active":"Inactive":"Select Status"),[{status:"Active",value:1},{status:"Inctive",value:0}].map((function(e){return i.a.createElement("option",{key:e.value,value:e.value},e.status)})))))),i.a.createElement(u.E,{row:!0,className:"my-0"},i.a.createElement(u.s,{xs:"4"},i.a.createElement(u.E,null,i.a.createElement(u.R,null,"Street"),i.a.createElement(u.J,{onChange:Q,name:"street",invalid:"boolean"!==typeof A.street,value:x.street||"",placeholder:"Enter Street.."}),F(b.b.INPUT_REQUIRED))),i.a.createElement(u.s,{xs:"4"},i.a.createElement(u.E,null,i.a.createElement(u.R,null,"City"),i.a.createElement(u.J,{onChange:Q,name:"city",invalid:"boolean"!==typeof A.city,value:x.city||"",placeholder:"Enter City.."}),F(b.b.INPUT_REQUIRED))),i.a.createElement(u.s,{xs:"4"},i.a.createElement(u.E,null,i.a.createElement(u.R,null,"Country"),i.a.createElement(u.J,{onChange:Q,name:"country",invalid:"boolean"!==typeof A.country,value:x.country||"",placeholder:"Enter Country.."}),F(b.b.INPUT_REQUIRED)))),i.a.createElement(u.E,{row:!0,className:"my-0 d-none"},i.a.createElement(u.s,{xs:"4"},i.a.createElement(u.E,null,i.a.createElement(u.R,null,"SSS NO."),i.a.createElement(u.J,{onChange:Q,name:"sss",invalid:"boolean"!==typeof A.sss,value:x.sss||"",placeholder:"SSS NO."}))),i.a.createElement(u.s,{xs:"4"},i.a.createElement(u.E,null,i.a.createElement(u.R,null,"PHIL HEALTH NO."),i.a.createElement(u.J,{onChange:Q,invalid:"boolean"!==typeof A.phil_health_no,name:"phil_health_no",value:x.phil_health_no||"",placeholder:"PHIL HEALTH NO."}))),i.a.createElement(u.s,{xs:"4"},i.a.createElement(u.E,null,i.a.createElement(u.R,null,"PAGIBIG NO."),i.a.createElement(u.J,{onChange:Q,invalid:"boolean"!==typeof A.pag_ibig_no,name:"pag_ibig_no",value:x.pag_ibig_no||"",placeholder:"PAGIBIG NO."})))))))))}}}]);
//# sourceMappingURL=21.4b6d2e20.chunk.js.map