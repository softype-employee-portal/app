(this.webpackJsonpSoftypeHR=this.webpackJsonpSoftypeHR||[]).push([[16],{1293:function(e,t,a){"use strict";a.r(t);var n=a(8),l=a.n(n),r=a(15),c=a(40),o=a(1),i=a.n(o),m=a(25),s=a(4),u=a(53),E=a(23),d=a(5),b=a(28),p=a(24),g=(a(732),a(213)),f=a(124),h=a.n(f),y=a(43),v=a(757);t.default=function(e){var t={loading:!1,pending:!1,uploading:!1},a=e.appState.auth.user,n=3!==a.roleId?0:sessionStorage.getItem("_tab")?+sessionStorage.getItem("_tab"):0,f=Object(E.c)(),_=Object(m.g)(),O=Object(o.useRef)(),j=Object(o.useState)(t),S=Object(c.a)(j,2),R=S[0],w=S[1],I=Object(o.useState)(),k=Object(c.a)(I,2),x=k[0],N=k[1],C=Object(o.useState)(),P=Object(c.a)(C,2),A=P[0],U=P[1],L="".concat(u.a.IS_DEV?u.a.API_URL_BASE_DEV:u.a.API_URL_BASE_LIVE,"/file/images"),T="".concat(Object(b.z)(a.firstname)," ").concat(a.middlename&&Object(b.z)(a.middlename)+" ").concat(Object(b.z)(a.lastname)),J=function(e,a){t[e]=a,w(t)},z=function(e){var t=a[e];switch(e){case"address":return{key:e,value:"".concat(Object(b.e)(a.street)," ,").concat(Object(b.e)(a.city)," ,").concat(Object(b.e)(a.country)," ")};case"mobileno":case"mobileno":return{key:"Mobile No.",value:t};case"status":return{key:Object(b.z)(e),value:"Active"};case"SSS":t=a.sss||"";case"PHIL HEALTH":t=a.phil_health_no||"";case"PAG-IBIG":t=a.pag_ibig_no||"";default:return e.includes("name")&&(t=Object(b.z)(t)),{key:Object(b.z)(e),value:t}}},D=function(){var e=Object(r.a)(l.a.mark((function e(){var t,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("file",x),t.append("employee_id",+a.employeeId),J("uploading",!0),Object(b.g)(f,{type:"info",message:"Please wait"}),e.next=7,p.a.post("/update_profile/img",t,!0);case 7:return n=e.sent,J("uploading",!1),n.error?Object(b.g)(f,{type:"error",message:n.message}):(J("pending",!1),r=n.data.employee_information[0],Object(b.g)(f,{type:"success",message:"Success"}),f(Object(d.b)(d.a.FETCH_PROFILE_SUCCESS,r))),e.abrupt("return");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){if(!x)return J("pending",!1),void U(void 0);var e=URL.createObjectURL(x);return U(e),function(){sessionStorage.removeItem("_tab"),URL.revokeObjectURL(e)}}),[x]),i.a.createElement(i.a.Fragment,null,i.a.createElement(s.h,null,i.a.createElement(s.i,null,i.a.createElement(s.qb,{activeTab:n,onActiveTabChange:function(e){sessionStorage.setItem("_tab",e)}},i.a.createElement(s.X,{variant:"tabs",className:"my-tabs"},i.a.createElement(s.Y,null,i.a.createElement(s.Z,null,i.a.createElement(h.a,{path:y.e,size:1}),"My Profile")),3===a.roleId&&i.a.createElement(s.Y,null,i.a.createElement(s.Z,null,i.a.createElement(h.a,{path:y.h,size:1}),"My Ratings"))),i.a.createElement(s.ob,null,i.a.createElement(s.pb,null,i.a.createElement(s.cb,{className:"justify-content-center"},i.a.createElement(s.s,Object(b.v)("12"),i.a.createElement(s.h,null,i.a.createElement(s.i,null,i.a.createElement(s.cb,{gutters:!1,className:""},i.a.createElement(s.s,Object.assign({},Object(b.v)("3"),{className:"px-1 py-1 mr-3"}),i.a.createElement("img",{alt:T,src:A||(a.profile_img?"".concat(L,"/").concat(a.profile_img):g.a.logoSm),style:{width:"100%",maxHeight:"200px"}}),i.a.createElement("input",{type:"file",accept:"image/*",value:R.file,ref:O,hidden:!0,onChange:function(e){if(!e.target.files||0===e.target.files.length)return N(void 0),void J("pending",!1);J("pending",!0),N(e.target.files[0])}}),i.a.createElement(s.f,{onClick:function(){O.current.click()},className:"mr-1 mt-3",block:!0,disabled:R.uploading,color:"primary"},"Change Profile Image"),i.a.createElement(s.f,{onClick:D,className:"mr-1 mt-3",block:!0,disabled:(R.uploading||!R.pending)&&!0,color:"primary"},R.uploading?i.a.createElement(s.lb,{color:"secondary",size:"sm"}):"Upload"),i.a.createElement(s.f,{block:!0,className:"mr-1 mt-3",disabled:R.uploading,color:"primary",onClick:function(){_.push("/change-password")}},"Change Password")),i.a.createElement(s.s,null,i.a.createElement(s.D,null,[["firstname","middlename","lastname"],["gender","birthdate","mobileno","email"],["street","city","coutry"],["department","role","status"]].map((function(e,t){return i.a.createElement(s.cb,{key:t,gutters:!1},e.map((function(t){var a=z(t).value;return i.a.createElement(s.s,Object.assign({className:"px-1"},Object(b.v)((12/e.length).toString()),{key:t}),i.a.createElement(s.E,null,i.a.createElement(s.R,{htmlFor:"name"}," ",i.a.createElement("strong",null,z(t).key," ")),i.a.createElement(s.J,{readOnly:!0,value:a||"",placeholder:a?"":"UNSET"})))})))})))))))))),i.a.createElement(s.pb,null,i.a.createElement(v.a,null)))))))}},732:function(e,t,a){"use strict";var n=a(212),l=a(8),r=a.n(l),c=a(15),o=a(40),i=a(1),m=a.n(i),s=a(23),u=a(4),E=a(59),d=a(5),b=a(24),p=a(45),g=a(28),f=a(34),h=a(716),y=a.n(h),v={firstname:!1,lastname:!1,middlename:!1,birthdate:!1,email:!1,mobileno:!1,role:!1,gender:!1,street:!1,city:!1,country:!1,sss:!1,phil_health_no:!1,pag_ibig_no:!1},_={role:null,accountType:null,firstname:"",lastname:"",middlename:"",gender:"",mobileno:"",birthdate:"",email:"",street:"",city:"",country:"",sss:"",phil_health_no:"",pag_ibig_no:"",isActive:1};t.a=function(e){var t,a=e.isUpdate,l=void 0!==a&&a,h=e.data,O=void 0===h?null:h,j=Object(s.c)(),S=Object(i.useRef)(),R=Object(i.useRef)(),w=Object(i.useState)(O||Object(g.w)(_)),I=Object(o.a)(w,2),k=I[0],x=I[1],N=Object(i.useState)(v),C=Object(o.a)(N,2),P=C[0],A=C[1],U=Object(i.useState)(!1),L=Object(o.a)(U,2),T=L[0],J=L[1],z=Object(i.useState)(),D=Object(o.a)(z,2),H=D[0],M=D[1],F=function(e){M(""),A(v);var t=Object(g.w)(P),a=Object(g.w)(k),n=e.target,l=n.name,r=n.value;if(t[l]=!1,"role"===l){var c=JSON.parse(r),o=c.role,i=c.accountType;a.role=o,a.accountType=+i}else a[l]=r;x(a)},G=function(){l||x(_),A(v),M("")},B=function(){var e=Object(c.a)(r.a.mark((function e(){var t,a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return J(!0),t=l?"update_employee":"create_employee",a=Object(g.w)(k),l&&(a.employeeId=O.employeeId),e.next=6,b.a.post("/".concat(t),a);case 6:if((n=e.sent).error){e.next=16;break}return e.next=10,Object(f.m)(j);case 10:return e.sent.error&&j(Object(d.b)(d.a.ADD_EMPLOYEE,n.data.employee_information[0])),e.next=14,Object(f.i)(j);case 14:e.next=17;break;case 16:M(n.message);case 17:J(!1),S.current.toggle(),G();case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(e){return!1!==e&&m.a.createElement(u.Q,{className:"help-block"},e)};return m.a.createElement(E.f,Object.assign({ref:S},{modalOnClose:G,size:"lg",title:l?"Update Details":"Add Employee",color:"warning",footer:m.a.createElement(m.a.Fragment,null,m.a.createElement(E.e,{isLoading:T,submit:function(){var e=Object(g.w)(v),t=k.role,a=k.firstname,n=k.lastname,l=k.middlename,r=k.gender,c=k.mobileno,o=k.birthdate,i=k.email,m=k.city,s=k.country,u=k.pag_ibig_no,E=k.phil_health_no,d=k.sss,b=function(e){return g.a.required(e)};e.role=b(t),e.firstname=g.a.nameRules(a),e.lastname=g.a.nameRules(n),e.gender=b(r),e.mobileno=g.a.numberRules(c),e.birthdate=g.a.ageRules(Object(g.l)(o)),e.city=b(m),e.country=b(s),e.email=b(i),e.middlename=!1,l.length&&(e.middlename=g.a.nameRules(l)),d.length&&(e.sss=g.a.numberRules(d)),E.length&&(e.phil_health_no=g.a.numberRules(E)),u.length&&(e.pag_ibig_no=g.a.numberRules(u)),A(e);var p=!0;y.a.values(e).map((function(e){"string"==typeof e&&(p=!1)})),p&&R.current.toggle()},btnText:l?"Update":"Submit"}))}),m.a.createElement(u.u,{fluid:!0},m.a.createElement(E.b,Object.assign({id:"cutom_dialog",ref:R},{onConfirm:function(){B()},title:"Please confirm."})),m.a.createElement(u.cb,null,m.a.createElement(u.s,{sm:"12"},H&&H.length>0?m.a.createElement(u.a,{color:"danger justify-content-center text-align-center"},H):null,m.a.createElement(u.D,{action:"",method:"post"},m.a.createElement(u.E,{row:!0,className:"my-0"},m.a.createElement(u.s,{xs:"4"},m.a.createElement(u.E,null,m.a.createElement(u.R,null,"Firstname"),m.a.createElement(u.J,{onChange:F,name:"firstname",value:k.firstname||"",placeholder:"Enter Firstname",invalid:"boolean"!==typeof P.firstname}),Q(P.firstname))),m.a.createElement(u.s,{xs:"4"},m.a.createElement(u.E,null,m.a.createElement(u.R,null,"Middlename"),m.a.createElement(u.J,{onChange:F,name:"middlename",value:k.middlename||"",placeholder:"Enter Middlename",invalid:"boolean"!==typeof P.middlename}),Q(P.middlename))),m.a.createElement(u.s,{xs:"4"},m.a.createElement(u.E,null,m.a.createElement(u.R,null,"Lastname"),m.a.createElement(u.J,{onChange:F,name:"lastname",value:k.lastname||"",placeholder:"Enter Lastname",invalid:"boolean"!==typeof P.lastname}),Q(P.lastname)))),m.a.createElement(u.E,{row:!0,className:"my-0"},m.a.createElement(u.s,{xs:"6"},m.a.createElement(u.E,null,m.a.createElement(u.R,null,"Gender"),m.a.createElement(u.db,{onChange:F,value:k.gender,invalid:"boolean"!==typeof P.gender,name:"gender"},!k.gender&&m.a.createElement("option",{value:"",hidden:!0},"Select Gender"),m.a.createElement("option",{value:"male"},"Male"),m.a.createElement("option",{value:"female"},"Female")),Q(p.b.INPUT_REQUIRED))),m.a.createElement(u.s,{xs:"6"},m.a.createElement(u.E,null,m.a.createElement(u.R,null,"Birthdate"),m.a.createElement(u.J,(t={type:"date",onChange:F,name:"birthdate",invalid:"boolean"!==typeof P.birthdate},Object(n.a)(t,"onChange",F),Object(n.a)(t,"value",k.birthdate||""),Object(n.a)(t,"placeholder","Enter Birthdate.."),t)),Q(P.birthdate)))),m.a.createElement(u.E,{row:!0,className:"my-0"},m.a.createElement(u.s,{xs:"6"},m.a.createElement(u.E,null,m.a.createElement(u.R,null,"Role"),m.a.createElement(u.db,{onChange:F,name:"role",invalid:"boolean"!==typeof P.role},!k.role&&m.a.createElement("option",{value:"",hidden:!0},"Select Role"),p.a.map((function(e){return m.a.createElement("optgroup",{label:e.category,key:e.category},e.roles.map((function(t,a){return m.a.createElement("option",{value:JSON.stringify({role:t,accountType:e.accountType}),key:a},t)})))}))),Q(p.b.INPUT_REQUIRED))),m.a.createElement(u.s,{xs:"6"},m.a.createElement(u.E,null,m.a.createElement(u.R,null,"Mobile Number"),m.a.createElement(u.J,{invalid:"boolean"!==typeof P.mobileno,onChange:F,name:"mobileno",value:k.mobileno,placeholder:"Enter Mobile Number.."}),Q(P.mobileno)))),m.a.createElement(u.E,{row:!0,className:"my-0"},m.a.createElement(u.s,{xs:"6"},m.a.createElement(u.E,null,m.a.createElement(u.R,null,"Email"),m.a.createElement(u.J,{onChange:F,name:"email",value:k.email||"",invalid:"boolean"!==typeof P.email,placeholder:"Enter Email.."}),Q(P.email))),m.a.createElement(u.s,{xs:"6"},m.a.createElement(u.E,null,m.a.createElement(u.R,null,"Status"),m.a.createElement(u.db,{onChange:F,value:k.isActive,disabled:!l,name:"isActive"},m.a.createElement("option",{value:"",hidden:!0},l?1===k.isActive?"Active":"Inactive":"Select Status"),[{status:"Active",value:1},{status:"Inctive",value:0}].map((function(e){return m.a.createElement("option",{key:e.value,value:e.value},e.status)})))))),m.a.createElement(u.E,{row:!0,className:"my-0"},m.a.createElement(u.s,{xs:"4"},m.a.createElement(u.E,null,m.a.createElement(u.R,null,"Street"),m.a.createElement(u.J,{onChange:F,name:"street",invalid:"boolean"!==typeof P.street,value:k.street||"",placeholder:"Enter Street.."}),Q(p.b.INPUT_REQUIRED))),m.a.createElement(u.s,{xs:"4"},m.a.createElement(u.E,null,m.a.createElement(u.R,null,"City"),m.a.createElement(u.J,{onChange:F,name:"city",invalid:"boolean"!==typeof P.city,value:k.city||"",placeholder:"Enter City.."}),Q(p.b.INPUT_REQUIRED))),m.a.createElement(u.s,{xs:"4"},m.a.createElement(u.E,null,m.a.createElement(u.R,null,"Country"),m.a.createElement(u.J,{onChange:F,name:"country",invalid:"boolean"!==typeof P.country,value:k.country||"",placeholder:"Enter Country.."}),Q(p.b.INPUT_REQUIRED)))),m.a.createElement(u.E,{row:!0,className:"my-0 d-none"},m.a.createElement(u.s,{xs:"4"},m.a.createElement(u.E,null,m.a.createElement(u.R,null,"SSS NO."),m.a.createElement(u.J,{onChange:F,name:"sss",invalid:"boolean"!==typeof P.sss,value:k.sss||"",placeholder:"SSS NO."}))),m.a.createElement(u.s,{xs:"4"},m.a.createElement(u.E,null,m.a.createElement(u.R,null,"PHIL HEALTH NO."),m.a.createElement(u.J,{onChange:F,invalid:"boolean"!==typeof P.phil_health_no,name:"phil_health_no",value:k.phil_health_no||"",placeholder:"PHIL HEALTH NO."}))),m.a.createElement(u.s,{xs:"4"},m.a.createElement(u.E,null,m.a.createElement(u.R,null,"PAGIBIG NO."),m.a.createElement(u.J,{onChange:F,invalid:"boolean"!==typeof P.pag_ibig_no,name:"pag_ibig_no",value:k.pag_ibig_no||"",placeholder:"PAGIBIG NO."})))))))))}},757:function(e,t,a){"use strict";var n=a(1),l=a.n(n),r=a(4),c=a(45),o=a(125),i=a(59);t.a=function(e){var t=e.reviews,a=void 0===t?[]:t,n=[{key:"month_reviewed",label:"Month",_style:{width:"10%",textAlign:"center"}},{key:"c1",label:c.o[0]},{key:"c2",label:c.o[1]},{key:"c3",label:c.o[2]},{key:"c4",label:c.o[3]},{key:"c5",label:c.o[4]},{key:"reviewer",label:"Reviewer",_style:{width:"10%",textAlign:"center"}}],m=function(e){if(e){var t=new Array(e).fill("x");return l.a.createElement("td",null,t.map((function(e,t){return l.a.createElement("span",{key:t,style:{color:o.a.$orange,fontSize:20}}," \u2605")})),l.a.createElement("p",null,c.p[e.toString()]))}return null};return l.a.createElement(r.cb,null,l.a.createElement(r.s,{xl:12},l.a.createElement(r.h,null,l.a.createElement(r.i,null,l.a.createElement(r.w,{items:a,fields:n,itemsPerPageSelect:!0,itemsPerPage:12,hover:!0,pagination:!0,noItemsViewSlot:l.a.createElement(i.g,{title:"No Reviews"}),scopedSlots:{month_reviewed:function(e){return l.a.createElement("td",null,l.a.createElement("span",{style:{whiteSpace:"pre-line",fontSize:20}},"\n"),l.a.createElement("p",null,e.month_reviewed))},c1:function(e){return m(e.criteria_1)},c2:function(e){return m(e.criteria_2)},c3:function(e){return m(e.criteria_3)},c4:function(e){return m(e.criteria_4)},c5:function(e){return m(e.criteria_5)},reviewer:function(e){return l.a.createElement("td",null,l.a.createElement("span",{style:{whiteSpace:"pre-line",fontSize:20}},"\n"),l.a.createElement("p",null,e.reviewer))}}})))))}}}]);
//# sourceMappingURL=16.8ba77076.chunk.js.map