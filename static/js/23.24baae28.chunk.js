(this.webpackJsonpSoftypeHR=this.webpackJsonpSoftypeHR||[]).push([[23],{1289:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(4),l=n(45),s=n(124),i=n.n(s),o=n(125),u=n(28),m=n(25),p=n(760);t.default=function(){var e=Object(m.g)(),t=o.a.$blue,n=o.a.$orange,a=o.a.$green,s=[["info","primary","danger","success"],[t,n,o.a.$red,a]];return r.a.createElement(r.a.Fragment,null,r.a.createElement(c.u,null,r.a.createElement(c.cb,{span:9},l.h.map((function(t,n){return r.a.createElement(c.s,Object.assign({},Object(u.v)(6),{key:"card_".concat(n)}),r.a.createElement(c.h,{id:t.name,style:{cursor:"pointer"},onClick:function(){var n;n=t.name.toLowerCase(),e.push("/repository/".concat(n))},className:"mx-4",accentColor:s[0][n]},r.a.createElement(c.k,null,r.a.createElement("h2",{className:"text-center"},t.name)),r.a.createElement(c.i,{style:{textAlign:"center"}},r.a.createElement(i.a,{size:5,color:s[1][n],path:t.icon})),r.a.createElement(c.j,{className:"justify-content-center"},t.extensions.map((function(e){return r.a.createElement(c.b,{key:e,className:"px-3 py-2 mx-1",color:s[0][n],shape:"pill"},e)})))))})))),r.a.createElement(p.a,{isHidden:!0}))}},760:function(e,t,n){"use strict";var a=n(8),r=n.n(a),c=n(15),l=n(47),s=n(40),i=n(1),o=n.n(i),u=n(4),m=n(59),p=n(124),b=n.n(p),f=n(43),d=n(125),g=n(45),h=n(28),E=n(34),j=n(24),O=n(23);t.a=function(e){var t=e.isUpdate,n=void 0!==t&&t,a=e.isHidden,p=void 0!==a&&a,y=Object(O.c)(),k=Object(O.d)((function(e){return e.appState.auth.user.employeeId})),v=Object(i.useRef)(),x=Object(i.useRef)(),C=Object(i.useState)([]),w=Object(s.a)(C,2),S=w[0],N=w[1],$=Object(i.useState)(""),F=Object(s.a)($,2),L=F[0],U=F[1],D=Object(i.useState)(!1),H=Object(s.a)(D,2),R=H[0],_=H[1],z=Object(i.useState)(""),J=Object(s.a)(z,2),q=J[0],A=J[1],I=Object(i.useState)([]),T=Object(s.a)(I,2),B=T[0],P=T[1],G=function(){R||(N(""),U(""),P([]))},K=function(){var e=Object(c.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("file",S),t.append("description",L),t.append("type",q),t.append("employeeId",+k),Object(h.g)(y,{type:"info",message:"Uploading"}),_(!0),e.next=9,j.a.post("/add_file",t,!0);case 9:if(!(n=e.sent).error){e.next=15;break}P([n.message]),Object(h.g)(y,{type:"error",message:"Error in uploading file"}),e.next=30;break;case 15:e.t0=q,e.next="videos"===e.t0?18:"images"===e.t0?21:"documents"===e.t0?24:27;break;case 18:return e.next=20,Object(E.e)(y);case 20:return e.abrupt("break",30);case 21:return e.next=23,Object(E.d)(y);case 23:return e.abrupt("break",30);case 24:return e.next=26,Object(E.b)(y);case 26:return e.abrupt("break",30);case 27:return e.next=29,Object(E.c)(y);case 29:return e.abrupt("break",30);case 30:_(!1),M();case 32:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){v.current.toggle()};return Object(i.useEffect)((function(){console.log(B)}),[B]),o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{className:"btn  btn-primary fab",onClick:M},o.a.createElement(b.a,{size:2,path:f.y})),o.a.createElement(m.f,{ref:v,centered:!0,hidden:p,btnTitle:"Upload File",title:n?"Update":"New File",modalOnClose:G,footer:o.a.createElement(o.a.Fragment,null,o.a.createElement(m.e,{isLoading:R,submit:function(){var e=[];if(P([]),S&&0!==S.length||e.push("File is required."),L||e.push("Description is required."),L.trim().split(" ").length>50&&e.push("Descrition must not be greater than 50 characters."),P(Object(l.a)(new Set(e))),S!==[]&&L)return K()},btnText:"Upload"}),o.a.createElement(u.f,{color:"danger",onClick:function(){v.current.toggle(),G()}},"Cancel")),hideCancelButton:!0},B.length?o.a.createElement(u.a,{color:"danger justify-content-center text-align-center"},o.a.createElement("p",{style:{whiteSpace:"pre",margin:"0"}}," ",B.join("\r\n"))):null,o.a.createElement(u.cb,{className:"justify-content-center"},o.a.createElement(u.s,null,o.a.createElement(u.h,{style:{cursor:"pointer"},accentColor:B.some((function(e){return e.includes("file")}))||!S.length?"danger":S.length&&"info",onClick:function(){x.current.click()}},o.a.createElement(u.i,{style:{textAlign:"center"}},o.a.createElement(u.cb,null,o.a.createElement(u.s,null,o.a.createElement(b.a,{path:f.p,size:5,color:S?d.a.$blue:d.a.$grey_light}))),o.a.createElement(u.cb,null,o.a.createElement(u.s,null,o.a.createElement("span",{style:{color:S?d.a.$blue:d.a.$grey_light}},S?S.name:"click here to add a file","  "))))),o.a.createElement(u.J,{hidden:!0}))),o.a.createElement(u.cb,{className:"justify-content-center"},o.a.createElement("input",{type:"file",ref:x,hidden:!0,onChange:function(e){P([]);var t=e.target.files;if(t&&0!==t.length){var n=t[0];N(n);for(var a=Object(h.o)(n.name),r=0;r<g.h.length;r++){var c=g.h[r];if(c.extensions.includes(a.toLowerCase())){A(c.name.toLowerCase());break}A("others")}}else!function(e){if(!B.includes(e))P([].concat(Object(l.a)(B),[e]))}("Please attatch some file.")}}),o.a.createElement(u.s,null,o.a.createElement(u.rb,{value:L||"",placeholder:"Description (max is 50 words)",name:"description",rows:"4",invalid:B.some((function(e){return e.toLowerCase().includes("description")})),onChange:function(e){P([]),U(e.target.value)}})))))}}}]);
//# sourceMappingURL=23.24baae28.chunk.js.map