(this.webpackJsonpSoftypeHR=this.webpackJsonpSoftypeHR||[]).push([[28],{1285:function(e,t,a){"use strict";a.r(t);var r=a(8),n=a.n(r),c=a(15),s=a(40),o=a(1),i=a.n(o),u=a(4),l=a(23),b=a(96),m=a(25),f=a(24),p=a(59),d=(a(5),a(215)),g="A Verfication Code has been sent to your email.";t.default=function(e){var t=e.history,a=Object(l.d)((function(e){return e.appState.auth.already_logged})),r=sessionStorage.getItem("email"),O=sessionStorage.getItem("onOTP"),h=Object(o.useState)(),E=Object(s.a)(h,2),j=E[0],k=E[1],x=Object(o.useState)(g),v=Object(s.a)(x,2),S=v[0],w=v[1],y=Object(o.useState)(!1),C=Object(s.a)(y,2),P=C[0],T=C[1],N=Object(o.useState)(!1),V=Object(s.a)(N,2),I=V[0],R=V[1],J=Object(o.useState)(""),D=Object(s.a)(J,2),H=D[0],L=D[1],_=Object(o.useState)(!1),q=Object(s.a)(_,2),A=q[0],B=q[1],M=function(){var e=Object(c.a)(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(!0),w("Please wait..."),e.next=4,f.a.post("/forgotPassword",{email:r});case 4:if(t=e.sent,R(!1),!t.error){e.next=12;break}return w(g),k(t.message),e.abrupt("return",T(!0));case 12:w(g);case 13:return e.abrupt("return",T(!1));case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(c.a)(n.a.mark((function e(){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Please wait..."!==S){e.next=2;break}return e.abrupt("return");case 2:if(H){e.next=7;break}return k("Verification Code is Required."),e.abrupt("return",T(!0));case 7:if(d.a.isNumbersOnly(H)&&6===H.length){e.next=12;break}return k("Invalid Verification Code!"),e.abrupt("return",T(!0));case 12:T(!1);case 13:return B(!0),w("Please wait..."),e.next=17,f.a.post("/verifyOTP",{email:r,OTP:H});case 17:if(a=e.sent,B(!1),!a.error){e.next=25;break}return w(g),k(a.message),e.abrupt("return",T(!0));case 25:w(g),sessionStorage.setItem("_isOTP",!0),t.push("/change-password");case 28:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r||O?a?i.a.createElement(m.a,{to:"/"}):i.a.createElement(b.e,null,i.a.createElement(u.D,{onSubmit:function(e){e.preventDefault()}},i.a.createElement("h1",null,"Enter Verification Code"),i.a.createElement(u.a,{color:P?"danger":"info"},P?j:S),i.a.createElement(u.M,{className:"mb-3 mt-3"},i.a.createElement(u.O,null,i.a.createElement(u.P,null,i.a.createElement("strong",null,"<>"))),i.a.createElement(u.J,{type:"text",disabled:A,onChange:function(e){T(!1),L(e.target.value)},placeholder:"6-digit Verfication Code",value:H||"",autoComplete:"OTP"})),i.a.createElement(p.e,{block:!0,isLoading:A,submit:z,btnText:"Submit"}),i.a.createElement(u.cb,null,i.a.createElement(u.s,{xs:"4"}),i.a.createElement(u.s,{xs:"8",className:"text-right px-0"},i.a.createElement(u.f,{disabled:A||I,className:"float-right",color:"link",onClick:function(){t.push("/login")}},"Back to Login"),i.a.createElement(u.f,{disabled:A||I,className:"float-right",color:"link",onClick:M},"Resend Code"))))):i.a.createElement(m.a,{to:"/account-recovery"})}}}]);
//# sourceMappingURL=28.f2fce204.chunk.js.map